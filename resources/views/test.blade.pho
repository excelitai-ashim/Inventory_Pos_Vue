public function employeeUpdate(Request $request,$id)
    {
        $accountInfo = Employee::findOrFail($id);
        $upload_image = $accountInfo->upload_image;
        if($request->hasFile('upload_image') && $request->upload_image->isValid()){
            $file_path = public_path('upload/employee_img/'.$accountInfo->upload_image);
            if(file_exists($file_path)){
                unlink($file_path);
            }
            $upload_image = time() . '.' . $request->upload_image->extension();
            $request->upload_image->move(public_path('upload/employee_img'), $upload_image);
        }
        $upload_cv = $accountInfo->upload_cv;
        if($request->hasFile('upload_cv') && $request->upload_cv->isValid()){
            $file_path = public_path('upload/employee_cv/'.$accountInfo->upload_cv);
            if(file_exists($file_path)){
                unlink($file_path);
            }
            $upload_cv = Str::random(10).time(). '.' . $request->upload_cv->extension();
            $request->upload_cv->move(public_path('upload/employee_cv'), $upload_cv);
        }
        $accountInfo->update([
        'employee_name' => $request->employee_name,
        'employee_id' => $request->employee_id,
        'designation' => $request->designation,
        'employee_status' => $request->employee_status,
        'username' => $request->username,
        'password' => bcrypt($request->password),
        'upload_image' => $upload_image,
        'upload_cv' => $upload_cv,
        ]);
        $notification = array(
            'message' => 'Update sucessfully',
            'alert-type' => 'success'
        );
        return redirect()->back()->with($notification);
    }
white_check_mark
eyes
raised_hands










